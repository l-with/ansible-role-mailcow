fileignoreconfig:
- filename: tasks/mailcow_config.yml
  allowed_patterns:
    - >
      API_KEY={{ mailcow_api_key }}
    - >
      API_KEY_READ_ONLY={{ mailcow_api_key_read_only }}

- filename: templates/mailcow_delete_default_admin.sh.j2
  allowed_patterns:
    - >
      docker exec -it \$\(docker ps -qf name=mysql-mailcow\) mysql -u\${\w+} -p\${\w+} \${\w+} -e "DELETE FROM admin WHERE username='\${\w+}';"
    - >
      docker exec -it \$\(docker ps -qf name=mysql-mailcow\) mysql -u\${\w+} -p\${\w+} \${\w+} -e "DELETE FROM tfa WHERE username='\${\w+}';"

- filename: templates/mailcow_set_admin.sh.j2
  allowed_patterns:
    - >
      hashed_mailcow_admin_password=\$\(docker exec -it \$\(docker ps -qf name=dovecot-mailcow\) doveadm pw -s SSHA256 -p \${\w+} | tr -d '\\r'\)

- filename: tasks/mailcow_admin.yml
  allowed_patterns:
    - >
      _MAILCOW_ADMIN_PASSWORD: "{{ \w+ }}"
