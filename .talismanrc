fileignoreconfig:
- filename: tasks/mailcow_config.yml
  allowed_patterns:
    - >
      API_KEY={{ mailcow_api_key }}
    - >
      API_KEY_READ_ONLY={{ mailcow_api_key_read_only }}

- filename: templates/mailcow_delete_default_admin.sh.j2
  allowed_patterns:
    - >
      docker exec -it \$\(docker ps -qf name=mysql-mailcow\) mysql -u\${DBUSER} -p\${DBPASS} \${DBNAME} -e "DELETE FROM admin WHERE username='\${mailcow_default_admin}';"
    - >
      docker exec -it \$\(docker ps -qf name=mysql-mailcow\) mysql -u\${DBUSER} -p\${DBPASS} \${DBNAME} -e "DELETE FROM tfa WHERE username='\${mailcow_default_admin}';"

- filename: templates/mailcow_set_admin.sh.j2
  allowed_patterns:
    - >
      hashed_password=\$\(docker exec -it \$\(docker ps -qf name=dovecot-mailcow\) doveadm pw -s SSHA256 -p \${random} | tr -d '\\r'\)
